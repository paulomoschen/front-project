<div class="div-pai">
    <div *ngIf="!showCadastro">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 demo-table">

            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Nome </th>
                <td mat-cell *matCellDef="let funcionario"> {{funcionario.name}} </td>
            </ng-container>

            <ng-container matColumnDef="sobrenome">
                <th mat-header-cell *matHeaderCellDef> Sobrenome </th>
                <td mat-cell *matCellDef="let funcionario"> {{funcionario.sobrenome}} </td>
            </ng-container>

            <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> E-mail </th>
                <td mat-cell *matCellDef="let funcionario"> {{funcionario.email}} </td>
            </ng-container>

            <ng-container matColumnDef="nis">
                <th mat-header-cell *matHeaderCellDef> NIS </th>
                <td mat-cell *matCellDef="let funcionario"> {{funcionario.nis}} </td>
            </ng-container>

            <ng-container matColumnDef="delete">
                <th mat-header-cell *matHeaderCellDef> Deletar </th>
                <td mat-cell *matCellDef="let funcionario" (click)="deletar(funcionario)"> <span class="material-symbols-outlined">
                    delete
                    </span> </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row (click)="showEdicao(row)" *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <div class="col-lg-12 col-md-12 col-sm-12 btn-group m-0 p-0 pt-3">
            <button matButton class="btn-block btn btn-lg btn-logar" type="button" (click)="cadastrar()">
                Cadastrar
            </button>
        </div>
    </div>

    <form class="form-class" *ngIf="showCadastro">
        <div class="col-lg-12 col-md-12 col-sm-12 btn-group">
            <mat-form-field class="fiel">
                <mat-label>Nome</mat-label>
                <input matInput maxlength="30" minlength="2" [required]="true" name="name" [(ngModel)]="funcionario.name" />
            </mat-form-field>
        </div>

        <div class="col-lg-12 col-md-12 col-sm-12 btn-group">
            <mat-form-field class="fiel">
                <mat-label>Sobrenome</mat-label>
                <input matInput maxlength="50" minlength="2" name="sobrenome"
                    [(ngModel)]="funcionario.sobrenome" />
            </mat-form-field>
        </div>

        <div class="col-lg-12 col-md-12 col-sm-12 btn-group">
            <mat-form-field class="fiel">
                <mat-label>Email</mat-label>
                <input matInput [required]="true" name="email" [formControl]="email"/>
                <mat-error *ngIf="email.invalid">{{getErrorMessage()}}</mat-error>
            </mat-form-field>
        </div>

        <div class="col-lg-12 col-md-12 col-sm-12 btn-group">
            <mat-form-field class="fiel">
                <mat-label>NIS</mat-label>
                <input matInput type="number" [required]="true" name="nis" [(ngModel)]="funcionario.nis" />
            </mat-form-field>
        </div>

        <div class="col-lg-12 col-md-12 col-sm-12 btn-group m-0 p-0 pt-3">
            <button matButton class="btn-block btn btn-lg btn-logar" type="button" (click)="funcionario.id != null ? editar() : salvar()">
                Salvar
            </button>
        </div>

        <div class="col-lg-12 col-md-12 col-sm-12 btn-group m-0 p-0 pt-3">
            <button matButton class="btn-block btn btn-lg btn-cadastrar" type="button" (click)="voltar()">
                Voltar
            </button>
        </div>

    </form>
</div>